build_tarball:
  script:
    - mkdir build
    - cd build
    - cmake ..
    - make -j$(nproc)
    - cd ..
    - mkdir -p dist
    - tar czf dist/kcast-runtime.tar.gz \
        build/bin/de/agundur/kcast/libkcastplugin.so \
        package/metadata.json \
        package/ui
  artifacts:
    paths:
      - kcast-runtime.tar.gz
  tags:
    - shell
